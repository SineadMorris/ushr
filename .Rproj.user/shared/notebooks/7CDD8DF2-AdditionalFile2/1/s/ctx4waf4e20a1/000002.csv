"0","# statslist <- vector(""list"", nreps)"
"0","# datalist <- vector(""list"", nreps)"
"0","# bplist <- vector(""list"", nreps)"
"0","# "
"0","# for (i in 1:nreps) {"
"0","#     tmp <- simulate_studies(nsubjects, detection_threshold, "
"0","#                                     simulation = i, mean_params = paramset[i,])"
"0","#     "
"0","#     statslist[[i]] <- tmp$stats"
"0","#     datalist[[i]] <- tmp$data"
"0","#     bplist[[i]] <- tmp$biphasic_all"
"0","# }"
"0","# "
"0","# require(parallel)"
"0","ncores = 2"
"0","output <- mclapply(1:nreps, mc.cores = ncores, "
"0","                   function(i) simulate_studies(simulation = i, nsubjects, "
"0","                                                detection_threshold, mean_params = paramset[i,]))"
"0","# a <- list()"
"0","# a[[1]] <- list(first = data.frame(x = c(5,1,1), y = c(1,2, 3)), second =  data.frame(z = c(5,1), zz = c(1,2)) )"
"0","# a[[2]] <- list(first = data.frame(x = c(9,9,1), y = c(1,0, 0)), second =  data.frame(z = c(0,0), zz = c(0,2)) )"
"0","# lapply(a, function(x) x$first) %>% bind_rows()"
"0","stats <- lapply(output, function(x) x$stats) %>% bind_rows()"
"0","data <- lapply(output, function(x) x$data) %>% bind_rows()"
"0","biphasic <- lapply(output, function(x) x$biphasic_all) %>% bind_rows()"
